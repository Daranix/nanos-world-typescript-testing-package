Package.RequirePackage("nanos-world-weapons")

const NanosTestingMap = [
    new Prop(new Vector(-2056.000, 6578.000, 126.137), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_WoodenChairX.SM_WoodenChairX"),
    new Prop(new Vector(-1676.000, 6963.000, 132.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_WoodenTable.SM_WoodenTable"),
    new Prop(new Vector(-1711.000, 7008.000, 132.000), new Rotator(0.000000, -149.999969, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_WoodenChair.SM_WoodenChair"),
    new Prop(new Vector(-1786.000, 7273.000, 102.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/Extra/SM_TireLarge.SM_TireLarge"),
    new Prop(new Vector(-1857.000, 7283.000, 143.000), new Rotator(-39.829117, 168.706970, 2.250333), "NanosWorld/Art/Rural/Extra/SM_TireLarge.SM_TireLarge"),
    new Prop(new Vector(-3721.000, 8133.000, 122.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_Stool.SM_Stool"),
    new Prop(new Vector(-1686.000, 6983.000, 217.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_TeaPot_Interior.SM_TeaPot_Interior"),
    new Prop(new Vector(-1591.000, 7178.000, 116.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/ExteriorDecoration/SM_OilDrum.SM_OilDrum"),
    new Prop(new Vector(-4606.000, 9042.000, 102.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/Extra/SM_Bucket5Gallon.SM_Bucket5Gallon"),
    new Prop(new Vector(-4322.000, 8214.000, 102.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/Extra/SM_Crate_07.SM_Crate_07"),
    new Prop(new Vector(-4309.000, 8197.000, 154.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_Crate_03.SM_Crate_03"),
    new Prop(new Vector(-4291.000, 8122.000, 102.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_Crate_04.SM_Crate_04"),
    new Prop(new Vector(-1675.000, 6930.000, 225.191), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_Pot_01.SM_Pot_01"),
    new Prop(new Vector(-1622.000, 6969.000, 231.875), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_Pot_02.SM_Pot_02"),
    new Prop(new Vector(-985.000, 4936.000, 238.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_TeaPot_Interior.SM_TeaPot_Interior"),
    new Prop(new Vector(-966.000, 5086.000, 232.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_Plate_Interior.SM_Plate_Interior"),
    new Prop(new Vector(592.000, -5047.000, 437.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/Extra/SM_Barrel_02.SM_Barrel_02"),
    new Prop(new Vector(9231.957, 1057.091, 94.046), new Rotator(0.000000, -95.000000, 5.000049), "NanosWorld/Art/Rural/HouseModular/SM_Bamboo_Roof45_Right.SM_Bamboo_Roof45_Right"),
    new Prop(new Vector(8931.000, -7428.000, 243.000), new Rotator(0.000000, 0.000000, 0.000000), "NanosWorld/Art/Rural/InteriorDecoration/SM_Stool.SM_Stool"),
    new Prop(new Vector(-2552.000, -5090.000, 132.000), new Rotator(-4.980929, 0.436880, 4.981057), "NanosWorld/Art/Rural/Extra/SM_TireLarge.SM_TireLarge"),
    NanosWorldWeapons.AK47(new Vector(-1850, 9153, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.AK74U(new Vector(-1900, 9153, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.GE36(new Vector(-1950, 9153, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.AP5(new Vector(-2000, 9153, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.SMG11(new Vector(-2050, 9153, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.Moss500(new Vector(-2100, 9153, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.Glock(new Vector(-2150, 9153, 192), new Rotator(0, 90, 90)),
    new Grenade(new Vector(-2200, 9153, 192), new Rotator(0, 90, 90), "NanosWorld/Core/Weapons/Grenades/BP_Grenade_G67.BP_Grenade_G67_C"),
    NanosWorldWeapons.AK47(new Vector(-1850, 9234, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.AK74U(new Vector(-1900, 9234, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.GE36(new Vector(-1950, 9234, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.AP5(new Vector(-2000, 9234, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.SMG11(new Vector(-2050, 9234, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.Moss500(new Vector(-2100, 9234, 192), new Rotator(0, 90, 90)),
    NanosWorldWeapons.Glock(new Vector(-2150, 9234, 192), new Rotator(0, 90, 90)),
    new Grenade(new Vector(-2200, 9234, 192), new Rotator(0, 90, 90), "NanosWorld/Core/Weapons/Grenades/BP_Grenade_G67.BP_Grenade_G67_C"),
    NanosWorldWeapons.Glock(new Vector(-5120, 6977, 195), new Rotator(0, -45, -90)),
    NanosWorldWeapons.Glock(new Vector(-5067, 6948, 195), new Rotator(0, 0, -90)),
    NanosWorldWeapons.Glock(new Vector(-5008, 6912, 195), new Rotator(0, -22, -90)),
    NanosWorldWeapons.SMG11(new Vector(-973, 4995, 235), new Rotator(0, 0, -90)),
    NanosWorldWeapons.GE36(new Vector(3660, 11025, 57), new Rotator(0, 0, 90)),
    NanosWorldWeapons.AK47(new Vector(7543, 5589, 210), new Rotator(0, 90, 90)),
    NanosWorldWeapons.AK47(new Vector(7466, 5589, 210), new Rotator(0, 90, 90)),
    NanosWorldWeapons.AK47(new Vector(7368, 5589, 210), new Rotator(0, 90, 90)),
    NanosWorldWeapons.Moss500(new Vector(7343, 5572, 156), new Rotator(0, 0, 90)),
    NanosWorldWeapons.Moss500(new Vector(7481, 5572, 156), new Rotator(0, 0, 90)),
    NanosWorldWeapons.AP5(new Vector(-4054, 8095, 145), new Rotator(0, 0, -90)),
    NanosWorldWeapons.AK74U(new Vector(9137, 1304, 113), new Rotator(-5, 0, -90)),
    NanosWorldWeapons.AK47(new Vector(9137, 1243, 113), new Rotator(-5, 0, -90)),
    NanosWorldWeapons.GE36(new Vector(9137, 1155, 113), new Rotator(-5, 0, -90)),
    new Vehicle(new Vector(-40, 7262, 130), new Rotator(0, -80, 0), "NanosWorld/Core/Vehicles/BP_Vehicle_SUV.BP_Vehicle_SUV_C"),
    new Vehicle(new Vector(530, 7344, 130), new Rotator(0, -80, 0), "NanosWorld/Core/Vehicles/BP_Vehicle_Pickup.BP_Vehicle_Pickup_C"),
    new Vehicle(new Vector(480, 5080, 100), new Rotator(0, -10, 0), "NanosWorld/Core/Vehicles/BP_Vehicle_Truck.BP_Vehicle_Truck_C"),
    new Vehicle(new Vector(1720, 1660, 118), new Rotator(0, 0, 0), "NanosWorld/Core/Vehicles/BP_Vehicle_Truck_Chassis.BP_Vehicle_Truck_Chassis_C"),
    new Vehicle(new Vector(9650, -2840, 80), new Rotator(0, -137, 0), "NanosWorld/Core/Vehicles/BP_Vehicle_Hatchback.BP_Vehicle_Hatchback_C"),
    new Vehicle(new Vector(-10630.0, 6870.0, 80), new Rotator(0, -137, 0), "NanosWorld/Core/Vehicles/BP_Vehicle_SportCar.BP_Vehicle_SportCar_C"),

    new Item(new Vector(-1786.000, 7273.000, 120.000), new Rotator(0, 0, 0), "NanosWorld/Core/Items/BP_Grabable_Torch.BP_Grabable_Torch_C"),
    new Item(new Vector(7575.000, 5287.000, 133.000), new Rotator(0, 0, 15), "NanosWorld/Core/Items/BP_Grabable_Torch.BP_Grabable_Torch_C"),

    NanosWorldWeapons.AK47(new Vector(-10928, 4225, 118), new Rotator(0, 0, -90)),
    NanosWorldWeapons.AK47(new Vector(-10940, 4150, 118), new Rotator(0, 0, -90)),
    NanosWorldWeapons.AK47(new Vector(-10950, 4066, 118), new Rotator(0, 0, -90)),

    NanosWorldWeapons.GE36(new Vector(-8029, 4132, 321), new Rotator(0, 0, 90)),
    NanosWorldWeapons.GE36(new Vector(-7945, 4132, 321), new Rotator(0, 0, 90)),
    NanosWorldWeapons.GE36(new Vector(-7857, 4132, 321), new Rotator(0, 0, 90)),
    NanosWorldWeapons.AK74U(new Vector(-9129, -3325, 112), new Rotator(0, 0, 90)),
    NanosWorldWeapons.AK74U(new Vector(-9129, -3237, 112), new Rotator(0, 0, 90)),
    NanosWorldWeapons.AK74U(new Vector(-9129, -3137, 112), new Rotator(0, 0, 90)),
    NanosWorldWeapons.AK74U(new Vector(-9208, -3137, 112), new Rotator(0, 0, 90)),
    NanosWorldWeapons.AK74U(new Vector(-9208, -3237, 112), new Rotator(0, 0, 90)),
    NanosWorldWeapons.AK74U(new Vector(-9208, -3325, 112), new Rotator(0, 0, 90)),
    NanosWorldWeapons.Moss500(new Vector(2001, -10769, 123), new Rotator(0, 0, 90)),
    NanosWorldWeapons.Moss500(new Vector(2001, -10669, 123), new Rotator(0, 0, 90)),
    new Grenade(new Vector(2001, -10380, 123), new Rotator(0, 0, 0), "NanosWorld/Core/Weapons/Grenades/BP_Grenade_G67.BP_Grenade_G67_C"),
    NanosWorldWeapons.AP5(new Vector(-10030, -2039, 100), new Rotator(0, 0, -90)),
    NanosWorldWeapons.SMG11(new Vector(-10167, -1895, 101), new Rotator(0, 0, -90)),
];

const startLocations = [
    new Vector(-4701.000000, 7058.000000, 236.000000),
    new Vector(7065.000000, 5516.000000, 192.000000),
    new Vector(4084.000000, 8175.000000, 238.000046),
    new Vector(-4661.070801, -688.318481, 295.228271),
    new Vector(9349.953125, -776.581421, 215.060547),
    new Vector(6221.000000, -7602.000000, 197.000000),
    new Vector(344.223877, -4713.804199, 517.179199),
    new Vector(-2352.433594, -6579.508789, 313.297119),
    new Vector(-7831.000000, -7635.000000, 197.000000),
    new Vector(-9481.000000, -2884.350830, 185.215271),
    new Vector(-8014.036621, -754.221375, 394.598022),
    new Vector(-9400.706055, 3869.706299, 186.855911),
    new Vector(-5850.000000, 8164.000000, 222.000046),
    new Vector(-2050.000000, 6654.000000, 228.000000),
    new Vector(-1207.603516, 5056.930176, 235.285980),
    new Vector(3760.009277, 10620.053711, 119.038712),
    new Vector(3143.985352, 8324.702148, 248.355957),
    new Vector(6910.936035, -1799.466309, 267.055115),
    new Vector(1569.594360, -10662.000000, 216.248596),
    new Vector(-4014.836670, -4764.884766, 713.900269),
]

Server.on(ServerEventType.START, () => {
    console.log("Server started !! ");
});

Player.on(PlayerEventType.Spawn, (player) => {
    const character = new Character();
    player.Possess(character);
});
Character.on(CharacterEventType.Respawn, (character) => {
    const location = startLocations[Math.floor(Math.random() * (startLocations.length - 0)) + 0];
    character.SetInitialLocation(location);
});

Player.on(PlayerEventType.UNPOSSESS, (player, character, bIsPlayerDisconnecting) => {
    if(bIsPlayerDisconnecting) {
        character.Destroy();
    }
});

Events.on("printPing", (player: Player) => {
    Package.Log("Call from remote");
    Package.Log("Player ping is: " + player.GetPing());
})